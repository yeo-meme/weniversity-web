name: ğŸ”” Notify Discord on GitHub Events

on:
  issues:
    types: [opened, edited, closed]
  project_card:
    types: [created, edited, moved, deleted]
  pull_request:
    types: [opened, closed]

jobs:
  notify-discord:
    runs-on: ubuntu-latest
    steps:
      - name: ğŸ“£ Send Discord Notification
        env:
          DISCORD_WEBHOOK: ${{ secrets.DISCORD_WEBHOOK_URL }}
          EVENT_NAME: ${{ github.event_name }}
          ACTOR: ${{ github.actor }}
          REPO: ${{ github.repository }}
        run: |
          curl -H "Content-Type: application/json" \
          -X POST \
          -d "{
            \"username\": \"GitHub ì•Œë¦¼ë´‡\",
            \"avatar_url\": \"https://github.githubassets.com/images/modules/logos_page/GitHub-Mark.png\",
            \"content\": \"ğŸ“¢ [${{ env.REPO }}]ì—ì„œ ${{ env.EVENT_NAME }} ì´ë²¤íŠ¸ ë°œìƒ! by ${{ env.ACTOR }}\"
          }" \
          \"$DISCORD_WEBHOOK\"
