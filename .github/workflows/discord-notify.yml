name: ğŸ”” Notify Discord on PR Events to Staging

on:
  pull_request:
    types: [opened, closed]  # PR ìƒì„± ë˜ëŠ” ë‹«í˜(ë³‘í•© í¬í•¨)
    branches:
      - staging              # ëŒ€ìƒ ë¸Œëœì¹˜ê°€ stagingì¼ ë•Œë§Œ

jobs:
  notify-on-pr-open:
    if: github.event.action == 'opened'
    runs-on: ubuntu-latest
    steps:
      - name: Notify PR Opened to Discord
        uses: Ilshidur/action-discord@v1
        with:
          webhook: ${{ secrets.DISCORD_WEBHOOK }}
          message: |
            ğŸ“ ìƒˆë¡œìš´ Pull Requestê°€ ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤!
            ğŸ“Œ ë¸Œëœì¹˜: ${{ github.head_ref }} â†’ staging
            ğŸ”— ì œëª©: ${{ github.event.pull_request.title }}
            âœï¸ ì‘ì„±ì: ${{ github.event.pull_request.user.login }}

  notify-on-pr-merge:
    if: github.event.action == 'closed' && github.event.pull_request.merged == true
    runs-on: ubuntu-latest
    steps:
      - name: Notify PR Merged to Discord
        uses: Ilshidur/action-discord@v1
        with:
          webhook: ${{ secrets.DISCORD_WEBHOOK }}
          message: |
            âœ… Pull Requestê°€ staging ë¸Œëœì¹˜ì— ë³‘í•©ë˜ì—ˆìŠµë‹ˆë‹¤!
            ğŸ”— ì œëª©: ${{ github.event.pull_request.title }}
            âœï¸ ì‘ì„±ì: ${{ github.event.pull_request.user.login }}
